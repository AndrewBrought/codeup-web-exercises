<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link rel="stylesheet" href="css/konami.css">
</head>
<body>

    <h1 class="title" >Konami Code</h1>

    <div class="container">
    <div class="test" id="div1">
        <img src="img/doom.jpg">
        <p id="doom">"<span class="doom">I</span> <span class="doom">D</span>on't <span class="doom">K</span>now <span class="doom">F</span>lip <span class="doom">A</span>ll"</p>
    </div>
    <div class="test" id="div2">
        <img src="img/donkey-kong-country.jpg">
        <p class="barrel">"<span>A - B, A, R, R, A, L  - of Fun!</span>"</p>
    </div>
    <div class="test" id="div3">
        <img src="img/contra.jpg">
        <p>"K Code"</p>
    </div>

    </div>

    <div class="pong"></div>


<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
<script>
    "use strict";

    window.onload = function(){
        var elements = document.getElementsByClassName("each-word")
        for (var i=0; i<elements.length; i++){
            elements[i].innerHTML = elements[i].innerHTML.replace(/\\b([a-z])([a-z]+)?\\b/gim, "<span class='first-letter'>$1</span>$2")
        }
    }

        // I Don't Know Flip All
        var doomCode =['i', 'd', 'k', 'f', 'a']
        var doom = 0;


            $(document).keydown(function() {
               if(doomCode.indexOf(event.key) < 0 || event.key !== doomCode[doom]) {
                   doom = 0;
                   return;
               }
               doom++;

               if(doomCode.length === doom) {
                   doom = 0;
                   activateAudio();
                   $('.title').css('color', 'red');
                   window.alert('You\'ve Unlocked the First Code!');
                   // $(".sound").html('<iframe src="audio/doomDoor.mp3" allow="autoplay" style="display:none" id="iframeAudio">' +
                   //     '</iframe>')
                   // }
                   }
                function activateAudio() {
                    var audio = new Audio('sounds/doomDoor.mp3');
                    audio.play();
                }


            });

            var dkCode = ['B', 'A', 'R', 'R', 'A', 'L'];
            var barrel = 0;

            $(document).keydown(function(){
               if(dkCode.indexOf(event.key) < 0 || event.key !== dkCode[barrel]){
                   barrel = 0;
                   return;
               }
               barrel++;
               if(dkCode.length === barrel){
                   barrel = 0;
                   activateAudio();
                   window.alert('You\'ve Unlocked the Second Code!');
                   $('body').css('background', 'black');
                   $('.title').css('color', 'white');
                   $('span').css('color', 'white');
                   $('p').css('color', 'white');
               }
                function activateAudio() {
                    var audio = new Audio('sounds/dk.mp3');
                    audio.play();
                }
            });


        var konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        var current = 0;

            $(document).keydown(function(){
                // If the key isn't in the pattern, or isn't the current key in the pattern, reset
            if (konamiCode.indexOf(event.key) < 0 || event.key !== konamiCode[current]) {
                current = 0;
                return;
            }
            // Update how much of the pattern is complete
            current++;
            // If complete, alert and reset
            if (konamiCode.length === current) {
                current = 0;
                activateAudio();
                window.alert('You\'ve Found Them All!');
                function activateAudio() {
                    var audio = new Audio('sounds/nsync.mp3');
                    audio.play();
                }
                $(function () {
                    $(".pong").load('mdn-pong-build-out.html');
                });
            }


    });

</script>
</body>
</html>